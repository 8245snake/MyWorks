@using MyWorkDashboard.Shared.Services
@using MyWorkDashboard.Shared.Pages

@inject PageNavigatingService navigatingService

<Layout>
    <Header Style="position: fixed; z-index: 1; width: 100%;">
        <TopMenu />
    </Header>
    <Content Style="padding: 0px; margin-top: 50px;">
        @if (navigatingService.CurrentPage == PageType.Home)
        {
            <HomePage/>
        }
        else if (navigatingService.CurrentPage == PageType.Preference)
        {
            <PreferencePage/>
        }
        
    </Content>
</Layout>

@code
{
    protected override void OnInitialized()
    {
        navigatingService.Navigated += OnNavigated;
    }

    private void OnNavigated(object? sender, EventArgs e)
    {
        if(sender == this) return;
        StateHasChanged();

    }
}
